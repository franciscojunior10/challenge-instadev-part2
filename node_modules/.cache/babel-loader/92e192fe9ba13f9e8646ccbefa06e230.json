{"ast":null,"code":"var _jsxFileName = \"/home/junior/codenation/react-16/src/containers/UserForm/UserForm.jsx\";\nimport React, { useState } from 'react';\nimport SuccessMessage from '../../components/SuccessMessage';\nimport { post } from '../../utils/featchAPI';\nimport defatulImage from '../../assets/img/profile-placeholder.png';\nimport './UserForm.scss';\n\nconst UserForm = () => {\n  const [name, setName] = useState(\"John D\");\n  const [username, setusername] = useState(\"johndo\");\n  const [email, setEmail] = useState(\"johndoe@gmail.com\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [urlPhoto, setUrlPhoto] = useState(\"\");\n  const [submit, setSubmit] = useState(false);\n  const [err, setErr] = useState('');\n\n  function onMatchURL(url) {\n    setUrlPhoto(url);\n    const regex = /(http(s?):)([/|.|\\w|\\s|-])*/g;\n\n    if (url.match(regex)) {\n      setAvatar(url);\n    } else {\n      setAvatar(\"\");\n    }\n  }\n\n  const handleAddUser = event => {\n    event.preventDefault();\n    const postObject = JSON.stringify({\n      name,\n      avatar,\n      username,\n      email\n    });\n    post('https://5e7d0266a917d70016684219.mockapi.io/api/v1/users', postObject).then(res => {\n      if (res.ok) {\n        setSubmit(true);\n      } else {\n        throw new Error(\"Não foi possível cadastrar o novo usuário\");\n      }\n    }).catch(err => {\n      setErr(err.message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile\",\n    \"data-testid\": \"user-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user__thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, avatar ? /*#__PURE__*/React.createElement(\"img\", {\n    src: avatar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: defatulImage,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  })), name && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, name, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, \"@\", username)))))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"post__form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post__form__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Ex: Fulano da Silva\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Usu\\xE1rio\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Ex: Fulano_da_Silva\",\n    value: username,\n    onChange: e => setusername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Ex: fulano@provedor.com\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Url da Imagem de Perfil (use a url da imagem do Linkedin)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"http://\",\n    value: urlPhoto,\n    onChange: e => onMatchURL(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => handleAddUser(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Cadastrar\")))), submit && /*#__PURE__*/React.createElement(SuccessMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default UserForm;","map":{"version":3,"sources":["/home/junior/codenation/react-16/src/containers/UserForm/UserForm.jsx"],"names":["React","useState","SuccessMessage","post","defatulImage","UserForm","name","setName","username","setusername","email","setEmail","avatar","setAvatar","urlPhoto","setUrlPhoto","submit","setSubmit","err","setErr","onMatchURL","url","regex","match","handleAddUser","event","preventDefault","postObject","JSON","stringify","then","res","ok","Error","catch","message","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport SuccessMessage from '../../components/SuccessMessage';\n\nimport {post} from '../../utils/featchAPI'\n\nimport defatulImage from '../../assets/img/profile-placeholder.png'\n\nimport './UserForm.scss';\n\nconst UserForm = () => {\n\n  const [name,setName] = useState(\"John D\")\n  const [username,setusername] = useState(\"johndo\")\n  const [email,setEmail] = useState(\"johndoe@gmail.com\")\n  const [avatar, setAvatar] = useState(\"\")\n  const [urlPhoto,setUrlPhoto] = useState(\"\")\n  const [submit, setSubmit] = useState(false)\n  const [err, setErr] = useState('')\n\n  function onMatchURL(url){\n    setUrlPhoto(url)\n    const regex = /(http(s?):)([/|.|\\w|\\s|-])*/g\n    if(url.match(regex)){\n      setAvatar(url)\n    }\n    else{\n    setAvatar(\"\")\n    }\n  }\n\n  const handleAddUser = (event) => {\n    event.preventDefault();\n\n    const postObject = JSON.stringify({\n      name,\n      avatar,\n      username,\n      email,\n    });\n\n    post('https://5e7d0266a917d70016684219.mockapi.io/api/v1/users',postObject)\n    .then((res)=>{\n      if(res.ok){\n        setSubmit(true)\n       }else{\n         throw new Error(\"Não foi possível cadastrar o novo usuário\")\n       }\n      })\n    .catch(err =>{\n      setErr(err.message)\n    })\n  };\n\n  return (\n    <React.Fragment>\n      <section className=\"profile\" data-testid=\"user-form\">\n        <div className=\"container\">\n          <div className=\"profile-data\">\n            <div className=\"user\">\n              <div className=\"user__thumb\">\n                {avatar\n                  ? <img src={avatar} alt=\"\" />\n                  : <img src={defatulImage} alt=\"\" />\n                }\n              </div>\n\n              {name && (\n                <p className=\"user__name\">\n                  {name}\n                  <span>@{username}</span>\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"post__form\">\n        <div className=\"container\">\n          <div className=\"post__form__wrapper\">\n            <label htmlFor=\"\">Nome</label>\n            <input type=\"text\" placeholder=\"Ex: Fulano da Silva\" value={name} onChange={(e)=>setName(e.target.value)}/>\n            <label htmlFor=\"\">Usuário</label>\n            <input type=\"text\" placeholder=\"Ex: Fulano_da_Silva\" value={username} onChange={(e)=>setusername(e.target.value)}/>\n            <label htmlFor=\"\">Email</label>\n            <input type=\"email\" placeholder=\"Ex: fulano@provedor.com\" value={email} onChange={(e)=>setEmail(e.target.value)}/>\n            <label htmlFor=\"\">Url da Imagem de Perfil (use a url da imagem do Linkedin)</label>\n            <input type=\"text\" placeholder=\"http://\" value={urlPhoto} onChange={(e)=>onMatchURL(e.target.value)}/>\n\n            <button\n             onClick={(event) => handleAddUser(event)}\n             >Cadastrar</button>\n          </div>\n        </div>\n      </section>\n      {\n      submit &&\n       (<SuccessMessage />)\n       }\n    </React.Fragment>\n  );\n};\n\nexport default UserForm;\n"]},"metadata":{},"sourceType":"module"}