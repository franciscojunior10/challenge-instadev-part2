{"ast":null,"code":"var _jsxFileName = \"/home/junior/codenation/react-16/src/routes/ProfileRoute/ProfileRoute.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport UserProfile from '../../containers/UserProfile';\nimport UserPosts from '../../containers/UserPosts';\nimport Loading from '../../components/Loading';\nimport { get } from '../../utils/featchAPI';\n\nconst ProfileRoute = () => {\n  const location = useLocation();\n  const [profile, setProfile] = useState({});\n  const [userPosts, setUserPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const userName = location.pathname.split(\"/\")[2];\n    get(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users?search=${userName}`).then(data => setProfile(data[0]));\n  });\n  useEffect(() => {\n    if (profile.id) {\n      get(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users/${profile.id}/posts`).then(data => {\n        setUserPosts(data);\n        setLoading(false);\n      });\n    }\n  }, [profile]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": \"profile-route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 10\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UserProfile, {\n    avatar: profile.avatar,\n    name: profile.name,\n    username: profile.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(UserPosts, {\n    posts: userPosts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default ProfileRoute;","map":{"version":3,"sources":["/home/junior/codenation/react-16/src/routes/ProfileRoute/ProfileRoute.jsx"],"names":["React","useState","useEffect","useLocation","UserProfile","UserPosts","Loading","get","ProfileRoute","location","profile","setProfile","userPosts","setUserPosts","loading","setLoading","userName","pathname","split","then","data","id","avatar","name","username"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AAEA,OAAOC,OAAP,MAAoB,0BAApB;AAEA,SAAQC,GAAR,QAAkB,uBAAlB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AAEzB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAM,CAACO,OAAD,EAASC,UAAT,IAAuBV,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACa,OAAD,EAASC,UAAT,IAAuBd,QAAQ,CAAC,IAAD,CAArC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,UAAMc,QAAQ,GAAGP,QAAQ,CAACQ,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAjB;AACAX,IAAAA,GAAG,CAAE,mEAAkES,QAAS,EAA7E,CAAH,CACCG,IADD,CACMC,IAAI,IAAET,UAAU,CAACS,IAAI,CAAC,CAAD,CAAL,CADtB;AAED,GAJQ,CAAT;AAMAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGQ,OAAO,CAACW,EAAX,EAAc;AACZd,MAAAA,GAAG,CAAE,4DAA2DG,OAAO,CAACW,EAAG,QAAxE,CAAH,CACCF,IADD,CACMC,IAAI,IAAE;AACVP,QAAAA,YAAY,CAACO,IAAD,CAAZ;AACAL,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OAJD;AAKD;AACF,GARQ,EAQN,CAACL,OAAD,CARM,CAAT;AAUA,sBAAS;AAAK,mBAAY,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEFI,OAAO,gBACP,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,gBAER,uDACE,oBAAC,WAAD;AACA,IAAA,MAAM,EAAEJ,OAAO,CAACY,MADhB;AAEA,IAAA,IAAI,EAAEZ,OAAO,CAACa,IAFd;AAGA,IAAA,QAAQ,EAAEb,OAAO,CAACc,QAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEZ,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAJG,CAAT;AAcD,CArCD;;AAuCA,eAAeJ,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { useLocation } from 'react-router-dom';\n\nimport UserProfile from '../../containers/UserProfile';\nimport UserPosts from '../../containers/UserPosts';\n\nimport Loading from '../../components/Loading';\n\nimport {get} from '../../utils/featchAPI' \n\nconst ProfileRoute = () => {\n\n  const location = useLocation()\n  const [profile,setProfile] = useState({})\n  const [userPosts, setUserPosts] = useState([])\n  const [loading,setLoading] = useState(true)\n\n  useEffect(()=>{\n    const userName = location.pathname.split(\"/\")[2]\n    get(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users?search=${userName}`)\n    .then(data=>setProfile(data[0]))\n  })\n\n  useEffect(() => {\n    if(profile.id){\n      get(`https://5e7d0266a917d70016684219.mockapi.io/api/v1/users/${profile.id}/posts`)\n      .then(data=>{\n        setUserPosts(data)\n        setLoading(false)\n      })\n    }\n  }, [profile])\n  \n  return  (<div data-testid=\"profile-route\">\n        {\n         loading ?\n         <Loading />:\n        <>\n          <UserProfile\n          avatar={profile.avatar}\n          name={profile.name}\n          username={profile.username} />\n          <UserPosts posts={userPosts} />\n        </>\n        }\n    </div>)\n  \n}\n\nexport default ProfileRoute;\n"]},"metadata":{},"sourceType":"module"}